I"u<p>Usually, there are 6 distinct stages of boot process, each explained in brief in <a href="">Linux Boot Process</a> article.
This article will focus on different stages of boot process Specifically in Embedded Linux.
Though the content and screenshots in this article are for BeagleBone board, the boot process is almost similar in general.</p>

<h2 id="embedded-linux-booting-process-multi-stage-bootloaders-kernel-filesystem">Embedded Linux Booting Process (Multi-Stage Bootloaders, Kernel, Filesystem)</h2>
<iframe width="665" height="374" src="https://www.youtube.com/embed/DV5S_ZSdK0s" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe>

<ul>
  <li>In this video, we will look at how the BeagleBone Black boots into an embedded Linux system. We will understand how the <strong><em>ROM Bootloader</em></strong> works for the AM335x SoC series, the first and second stage bootloaders (<em><u>SPL/MLO and U-Boot</u></em>) and how to load the kernel, device tree, filesystem and user space processes.</li>
</ul>

<h2 id="embedded-linux-boot-process">Embedded Linux Boot Process:</h2>

<p><img src="/assets/images/embedded/boot/embedded_linux_boot_process.png" alt="Embedded Linux Boot Process" class="shadow" /></p>

<hr />

<h2 id="embedded-linux-boot-sequence">Embedded Linux Boot Sequence:</h2>

<p><img src="/assets/images/embedded/boot/embedded_linux_boot_sequence.png" alt="Embedded Linux Boot Sequence" /></p>

<ul>
  <li>The variation in the boot process is typically only in the first couple of Steps, i.e. how does a <strong><em>ROM Bootloader</em></strong> loads the <strong><em>u-boot</em></strong> in RAM and passes control to it. These steps will be something board specific.</li>
  <li>Once the <strong><em>u-boot</em></strong> is in memory, rest of the steps are standard.</li>
</ul>

<h3 id="why-the-1st-stage-bootloader-mlo-is-required-at-all">Why the 1st stage bootloader (MLO) is required at all?</h3>
<ul>
  <li>ROM Bootloader has only access to internal RAM by default. As the SoC vendors knows very little about how &amp; which external peripherals the SoC is going to interact with. DRAM/RAM controllers are again a separate vendors.</li>
  <li>So, ROM Bootloader code cannot assume anything, and can only work on the things it knows, i.e. internal RAM.</li>
  <li>Internal RAM is usually very limited in size in the range of few Kilo-Bytes, for BeagleBone it’s 128KB.</li>
  <li>RAM internal to a SoC is very expensive. This is a key reason why multiple stage bootloaders are really required and are common in embedded devices.</li>
  <li>On the other hand, U-Boot is fairly large program, given the amountof functionality it supports. It cannot be accomodated in internal RAM of the SoC.</li>
  <li>That’s why MLO or multiple stage bootloaders are required, the MLO understands the interaction with external RAM and can load the u-boot on it.</li>
</ul>

<h5 id="references">References:</h5>
<ul>
  <li><a href="http://www.linfo.org/bios.html">BIOS</a></li>
  <li><a href="https://en.wikipedia.org/wiki/Runlevel">Runlevels</a></li>
  <li><a href="https://www.geeksforgeeks.org/run-levels-linux/">Runlevels</a></li>
  <li><a href="https://www.freecodecamp.org/news/the-linux-booting-process-6-steps-described-in-detail/">The Linux Booting Process - 6 Steps Described in Detail</a></li>
</ul>

:ET